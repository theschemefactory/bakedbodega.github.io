const menu = {
  dimes: ["Purple belts"],
  eigths: {
    blockWork: [
      { brand: "", name: "Bubblegum horchata", price: 25 },
      { brand: "", name: "Rainbow belts", price: 25 },
      { brand: "", name: "Strawberry jam", price: 25 },
      { brand: "", name: "Lucky charms", price: 25 },
      { brand: "", name: "Watermelon", price: 25 },
      { brand: "", name: "Lcg", price: 25 },
    ],
    topShelf: [
      { brand: "JOHN DOE", name: "Frunaz", price: 80 },
      { brand: "UP THE HILL", name: "Zombies", price: 80 },
      {
        brand: "MAMEYS BODEGA",
        name: "Bahama mama iceberg",
        price: 80,
      },
      { brand: "GOOD PIZZA", name: "Staycation", price: 80 },
      { brand: "ZOUR ZOP", name: "Strawberry zop milk", price: 80 },
      { brand: "ZOUR ZOP", name: "Power puff zopz", price: 90 },
      { brand: "PLANTA", name: "11 coffins", price: 65 },
      { brand: "MAJOR LEAGUE EXOTICS", name: "Dirty silk", price: 65 },
      {
        brand: "MAJOR LEAGUE EXOTICS",
        name: "Strawberry gellati",
        price: 65,
      },
      {
        brand: "MAJOR LEAGUE EXOTICS",
        name: "Raspados de coco",
        price: 65,
      },
      {
        brand: "MAJOR LEAGUE EXOTICS",
        name: "Bubblegum pushpop",
        price: 65,
      },
      { brand: "MAJOR LEAGUE EXOTICS", name: "Yachtze", price: 65 },
      { brand: "TENCO", name: "Beluga caviar", price: 65 },
      { brand: "TENCO", name: "Blueprint", price: 65 },
      { brand: "TENCO", name: "Butcher", price: 65 },
      { brand: "DOJA", name: "Peachtree", price: 65 },
      { brand: "DOJA", name: "Jungle juice", price: 65 },
      { brand: "DOJA", name: "Magic marker", price: 65 },
      { brand: "Wizard tree", name: "Limelight", price: 75 },
      { brand: "Wizard tree", name: "Zang banger", price: 75 },
      { brand: "Wizard tree", name: "Zoza", price: 75 },
      { brand: "Alien Labs", name: "Dark web", price: 75 },
      { brand: "Alien Labs", name: "Kryptochronic", price: 75 },
      { brand: "Connected", name: "Nightshade", price: 75 },
    ],
  },
  quarters: {
    blockWork: [
      { brand: "wizard trees", name: "Zoza (smalls)", price: 50 },
      { brand: "Greendawg", name: "Bedrock", price: 50 },
      { brand: "BakedBodega/Frutas", name: "Banana Taffy", price: 50 },
      { brand: "BakedBodega", name: "Ensaladas", price: 50 },
    ],
    topShelf: [
      { brand: "K dog", name: "Tahoe og", price: 120 },
      { brand: "K dog", name: "Gusher x runtz", price: 120 },
      { brand: "K dog", name: "Spritzer aka nor tsunami", price: 120 },
      { brand: "K dog", name: "Grape gas", price: 120 },
      { brand: "K dog", name: "Zashimi", price: 120 },
      { brand: "Greasy", name: "Head band", price: 120 },
      { brand: "Greasy", name: "Green licorice", price: 120 },
      { brand: "Greasy", name: "Z", price: 120 },
      { brand: "Greasy", name: "Candy fumes", price: 120 },
      { brand: "Greenridge", name: "Bubble gushers", price: 120 },
      { brand: "Greenridge", name: "Candy fumes", price: 120 },
      { brand: "Zour Zop", name: "Zop to the moon", price: 120 },
      { brand: "Ten co", name: "Cheese banger", price: 120 },
      { brand: "Ten co", name: "Peach Nishi", price: 120 },
      { brand: "Frutaz", name: "Lemon cherry gelato", price: 120 },
      { brand: "Frutaz", name: "Sfv og", price: 120 },
      { brand: "Frutaz", name: "Rainbow belts", price: 120 },
      { brand: "Frutaz", name: "Zashimi", price: 120 },
      { brand: "Frutaz", name: "PeacheZ", price: 120 },
      { brand: "Frutaz", name: "Sweet tart peach", price: 120 },
      { brand: "Frutaz", name: "Yellow cod", price: 120 },
      { brand: "Frutaz", name: "Melonz", price: 120 },
      { brand: "Frutaz", name: "Sourz", price: 120 },
      { brand: "Frutaz", name: "Magic marker", price: 120 },
      { brand: "Frutaz", name: "Gum powder", price: 120 },
      { brand: "Frutaz", name: "Green ztar", price: 120 },
      { brand: "Frutaz", name: "Super ztar", price: 120 },
      { brand: "Frutaz", name: "Watermelon Z", price: 120 },
      { brand: "Mechanics farm", name: "Zelium", price: 140 },
      { brand: "Mechanics farm", name: "Peachtree", price: 140 },
      { brand: "Mechanics farm", name: "Coffin runtz", price: 140 },
      { brand: "365 canna", name: "Yellow fin", price: 125 },
      { brand: "365 canna", name: "Z28", price: 125 },
      { brand: "Up the hill", name: "Chemlatti", price: 125 },
      { brand: "Ethic farms", name: "Z cubed", price: 125 },
      { brand: "Dank Syndicate", name: "Pep Z", price: 125 },
      { brand: "Pixie", name: "Moonrise", price: 125 },
      { brand: "Imperial club", name: "Santitos", price: 125 },
      { brand: "Tornado Terps", name: "Zkittles", price: 125 },
      { brand: "Tornado Terps", name: "Magnum 11", price: 125 },
      { brand: "Tornado Terps", name: "Lemon dough", price: 125 },
      { brand: "Kapow", name: "Purple grapes", price: 125 },
      { brand: "Kapow", name: "Dark berries", price: 125 },
      { brand: "Kapow", name: "Berries & cream", price: 125 },
      { brand: "Kapow", name: "Melon berries", price: 125 },
      { brand: "Kapow", name: "Super berries", price: 125 },
      { brand: "Kapow", name: "Ogz", price: 125 },
    ],
  },
  halfs: {
    blockWork: [],
    topShelf: [{ brand: "Relentless Melts", name: "Buscemi", price: 200 }],
  },
};

// Function to create a table row for each item
function createTableRow(item) {
  const row = document.createElement("tr");

  if (typeof item === "string") {
    // Handle dimes case
    row.innerHTML = `
      <td class="text-start">-</td>
      <td class="text-start" title="${item}">${item}</td>
      <td class="text-end">$10</td>
    `;
  } else {
    // Handle other cases
    row.innerHTML = `
      <td class="text-start" title="${item.brand || "-"}">${
      item.brand || "-"
    }</td>
      <td class="text-start" title="${item.name}">${item.name}</td>
      <td class="text-end">${
        item.price ? "$" + item.price : "Market Price"
      }</td>
    `;
  }
  return row;
}

document.addEventListener("DOMContentLoaded", async function () {
  try {
    // Fetch menu data
    const response = await fetch("menu.json");
    const data = await response.json();
    const menu = data.menu;

    // Populate dimes
    if (menu.dimes && menu.dimes.length > 0) {
      const dimesContent = document.getElementById("dimes-content");
      menu.dimes.forEach((item) => {
        dimesContent.appendChild(createTableRow(item));
      });
    }

    // Populate eighths
    if (menu.eigths) {
      const eighthsTopshelf = document.getElementById("eighths-topshelf");
      const eighthsBlockwork = document.getElementById("eighths-blockwork");

      menu.eigths.topShelf.forEach((item) => {
        eighthsTopshelf.appendChild(createTableRow(item));
      });

      menu.eigths.blockWork.forEach((item) => {
        eighthsBlockwork.appendChild(createTableRow(item));
      });
    }

    // Populate quarters
    if (menu.quarters) {
      const quartersTopshelf = document.getElementById("quarters-topshelf");
      const quartersBlockwork = document.getElementById("quarters-blockwork");

      menu.quarters.topShelf.forEach((item) => {
        quartersTopshelf.appendChild(createTableRow(item));
      });

      menu.quarters.blockWork.forEach((item) => {
        quartersBlockwork.appendChild(createTableRow(item));
      });
    }

    // Populate halves
    if (menu.halfs) {
      const halvesTopshelf = document.getElementById("halves-topshelf");
      menu.halfs.topShelf.forEach((item) => {
        halvesTopshelf.appendChild(createTableRow(item));
      });
    }

    // Initialize tab functionality
    const tabButtons = document.querySelectorAll("[data-tab]");
    const tabContents = document.querySelectorAll(".tab-content");

    tabButtons.forEach((button) => {
      button.addEventListener("click", () => {
        // Remove active class from all buttons and contents
        tabButtons.forEach((btn) => btn.classList.remove("active"));
        tabContents.forEach((content) => content.classList.remove("active"));

        // Add active class to clicked button and corresponding content
        button.classList.add("active");
        const targetId = button.getAttribute("data-tab");
        document.getElementById(targetId).classList.add("active");
      });
    });
  } catch (error) {
    console.error("Error:", error);
  }
});
